\chapter{Basic Architecture}

\section{Instruction Set Characteristics}

\section{Data Format}

\subsection{Signed Integer}

\subsubsection{Signed byte}
\begin{bytefield}{8}
    \bitheader[endianness=big]{7,6,0} \\
    \bitbox{1}{S} 
    \bitbox{7}{}
\end{bytefield}

\subsubsection{Signed halfword}
\begin{bytefield}{16}
    \bitheader[endianness=big]{15,14,0} \\
    \bitbox{1}{S} 
    \bitbox{15}{}
\end{bytefield}

\subsubsection{Signed word}
\begin{bytefield}{32}
    \bitheader[endianness=big]{31,30,0} \\
    \bitbox{1}{S} 
    \bitbox{31}{}
\end{bytefield}

\subsection{Unsigned Integer}

\section{CPU Registers}

\subsection{General Purpose Registers}

\begin{tabular}{ |p{3cm}|p{3cm}|p{4cm}|  }
    \hline
    \multicolumn{3}{|c|}{General Purpose Registers} \\
    \hline
    Name& Alternate name & Comment \\
    \hline
    r0  & zero & Hardwired zero\\
    r1  & v0   & Func arg 0 \\
    r2  & v1   & Func arg 1 \\
    r3  & v2   & Func arg 2 \\
    r4  & v3   & Func arg 3 \\
    r5  & v4   & Func arg 4 \\
    r6  & v5   & Func arg 5 \\
    r7  & v6   & Func arg 6 \\
    r8  & v7   & Func arg 7 \\
    r9  & a0   & Return value \\
    r10 & a1   & Return value \\
    r11 &      &  \\
    r12 &      &  \\
    r13 &      &  \\
    r14 &      &  \\
    r15 &      &  \\
    r16 &      &  \\
    r17 &      &  \\
    r18 &      &  \\
    r19 &      &  \\
    r20 &      &  \\
    r21 &      &  \\
    r22 &      &  \\
    r23 &      &  \\
    r24 &      &  \\
    r25 & k0   &  Reserved for kernel \\
    r26 & k1   &  Reserved for kernel \\
    r27 & at   &  Reserved for Assembler \\
    r28 & sp   &  Stack Pointer \\
    r29 & gp   &  Global Poiter \\
    r30 & fp   &  Frame Pointer \\
    r31 & ra   &  Return address \\
    
    \hline
\end{tabular}

\subsection{Control and Status Registers}

\begin{tabular}{ |p{3cm}|p{3cm}|p{1cm}|p{1cm}|p{6cm}| }
    \hline
    \multicolumn{4}{|c|}{Special Registers} \\
    \hline
    NÂ° & name & read & write & Description \\
    \hline
    0 & isa & \ok & \no & Machine ISA Register \\
    1 & vendorid & \ok & \no & Vendor ID \\
    2 & status & \ok & \ok & Status Register \\
    3 & trapvec & \no & \ok & Trap Vector Base Address Regiter\\
    4 & inten & \ok & \ok & Interrupt Enable register \\
    5 & epc & \no & \no & Exeption Program Counter \\
    6 & cause & \ok & \no & Cause Register \\
    \hline
\end{tabular}

\subsubsection{Status Register}

\begin{bytefield}{32}
    \bitheader[endianness=big]{31,4,2,0} \\
    \bitbox{30}{-} 
    \bitbox{1}{P} 
    \bitbox{1}{S}
\end{bytefield}

\begin{itemize}
    \item S: supervisor mode (1: supervisor, 0: userspace)
    \item P: paging (1: enabled, 0: disabled)
\end{itemize}

\subsubsection{Trap Vector Base Address Regiter}

\begin{bytefield}{32}
    \bitheader[endianness=big]{31,2,0} \\
    \bitbox{31}{base}
    \bitbox{1}{M}
\end{bytefield}

\subsubsection{EPC}
